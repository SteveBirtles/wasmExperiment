<!DOCTYPE html>
<!-- add.html -->
<html>
  <head></head>
  <body>
    <script type="module">


	function fib(n) {
		if (n <= 1) return 1;
		return fib(n - 1) + fib(n - 2);
	}

	let start = Date.now();

	console.log(fib(42));

	console.log(Date.now() - start);

    (async() => {

	

	console.log("Loading...");

	fetch('/client/test.wasm').then(response => {

		return response.arrayBuffer();

	}).then(bytes => {

		return WebAssembly.instantiate(bytes);

	}).then(obj => {


		let start = Date.now();
	
		let result = obj.instance.exports.fib(42);

		console.log(result);

		console.log(Date.now() - start);

	});

    })();

    </script>
  </body>
</html>
